---
description: 了解Express.js框架的基本概念,搭建一个最小可能用应用程序
tags:
  - 服务端
  - express
---

## Express.js 简介
Express.js是一个基于Node.js的轻量级、灵活的Web应用框架，它提供了一系列强大的功能，用于构建单页、多页以及混合Web应用。Express.js的设计思路主要是简洁、快速、易于扩展，让开发者能够快速搭建Web应用并进行定制。

## 特点
1. 中间件：Express.js使用中间件的概念来处理HTTP请求。中间件是一种可以访问请求对象、响应对象和应用程序请求-响应周期中的下一个中间件函数的函数。可以在处理前、处理中、处理后等不同的阶段执行不同的中间件函数，从而实现各种功能，如身份验证、请求日志记录、错误处理等。

2. 路由：Express.js 提供了路由功能，可以根据不同的 URL 请求，将请求分发到不同的处理函数中。

3. 模板引擎：Express.js支持多种模板引擎，如EJS、Pug、Handlebars等。模板引擎允许开发者将数据与HTML模板结合，从而生成动态的HTML页面。这使得开发者可以轻松地构建具有动态内容的Web应用。

4. 静态文件服务：Express.js内置了一个静态文件服务器，可以方便地为Web应用提供静态资源（如CSS、JavaScript、图片等）。这使得开发者无需额外配置，即可快速搭建Web应用。

5. 错误处理：Express.js提供了一个简单的错误处理机制，允许开发者为应用程序定义自定义错误处理程序。这使得开发者可以轻松地处理错误，并向用户提供友好的错误信息。

6. 易于扩展：Express.js 的模块化设计具有很好的扩展性，可以通过安装第三方中间件或编写自定义中间件来增强其功能。这使得开发者可以根据项目需求，轻松地为Express.js添加新功能。

## 模块
1. express：Express.js的主要模块，用于创建Express.js应用程序实例。

2. application：Express.js应用程序实例，用于定义路由、中间件和其他应用程序级别的设置。

3. router：Express.js路由实例，用于定义应用程序的路由。

4. request：Express.js请求对象，包含HTTP请求的信息和数据。

5. response：Express.js响应对象，用于向客户端发送HTTP响应。

6. middleware：Express.js中间件，用于处理HTTP请求和响应。Express.js内置了一些常用的中间件，如body-parser（解析请求体）、cookie-parser（解析Cookie）等，同时也支持第三方和自定义中间件。

7. view：Express.js视图系统，用于渲染动态HTML页面。Express.js支持多种模板引擎，如EJS、Pug、Handlebars等。

8. static：Express.js静态文件服务，用于提供静态资源（如CSS、JavaScript、图片等）。
   
9. cookie-parser：用于解析HTTP请求中的Cookie。

10. body-parser：用于解析HTTP请求中的请求体，支持解析JSON、URL-encoded和multipart/form-data格式的数据。

11. morgan：用于记录HTTP请求的日志。

12. helmet：用于增强Web应用的安全性，包括设置HTTP头、防止跨站点脚本攻击、防止点击劫持等。

13. compression：用于压缩HTTP响应，减少传输数据量，提高Web应用的性能。

14. cors：用于处理跨域资源共享（CORS）问题，允许Web应用程序从不同的域名访问资源。

15. express-session：用于处理会话管理，包括创建、存储和销毁会话。

16. connect-flash：用于在重定向时向客户端发送一次性消息。

17. express-validator：用于验证HTTP请求中的数据，包括验证字符串、数字、日期等。

18. passport：用于处理用户身份验证和授权，支持多种身份验证策略，如本地身份验证、OAuth、OpenID等。	 

## 简单使用
首先，我们需要创建一个新的文件夹来存放我们的项目文件：
~~~sh
mkdir my-express-app
cd my-express-app
~~~
接下来，我们使用npm初始化项目，并安装Express.js：
~~~sh
npm init -y
npm install express
~~~
编写应用代码

在项目文件夹中，创建一个名为app.js的文件，然后打开文件并输入以下代码：
~~~js
const express = require('express');
const app = express();
const port = 3000;

app.get('/', (req, res) => {
  res.send('Hello World!');
});

app.listen(port, () => {
  console.log(`Example app listening at http://localhost:${port}`);
});
~~~
这段代码首先引入了Express.js模块，并创建了一个Express.js应用实例。然后，我们定义了一个简单的路由，当用户访问应用的根路径（/）时，返回“Hello World!”。最后，我们让应用监听在3000端口，并在控制台输出一条提示信息。

运行
~~~
node app.js
~~~
打开浏览器并访问http://localhost:3000，你将看到页面上显示“Hello World!”，