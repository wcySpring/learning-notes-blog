---
description: 安装
tags:
  - 服务端
  - nestjs
---

1. 安装使用 Nest 提供的交手架进行安装使用，可以使用 npx 进行安装
~~~bash
npx @nestjs/cli new 项目名
~~~

2. 也可以将脚手架安装到全局后，执行交手架指令
~~~bash
npm install -g @nestjs/cli

nest new 项目名
~~~
全局安装的问题是当前哪一刻的最新安装指令，如果 Nest 更新了需要执行更新全局脚手架
~~~bash
npm update -g @nestjs/cli
~~~

3. 项目创建后会让选择使用的安装包工具 ，也可以在使用指令的时候直接确定创建的 包管理工具

~~~bash
npx @nestjs/cli new 项目名 -p  pnpm
~~~
或
~~~bash
nest new 项目名 -p pnpm
~~~

4. 也可以设置使用编写语言 `--language` 可以指定 typescript 和 javascript

## 项目目录了解

项目创建后生成了项目目录

~~~
src
 ├── app.controller.spec.ts
 ├── app.controller.ts
 ├── app.module.ts
 ├── app.service.ts
 └── main.ts
~~~


| **文件**            | **作用**                                                                 | **与其他文件的关系**                                                                                    |
| ------------------- | ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------- |
| `app.controller.ts` | 定义控制器，处理传入的HTTP请求并返回响应。定义路由和端点。               | \- 被 `app.module.ts` 注册为控制器。- 依赖于 `app.service.ts`，通过构造函数注入服务来调用业务逻辑方法。 |
| `app.module.ts`     | 定义应用的根模块，是应用的起始点。导入其他模块，注册控制器和服务。       | \- 注册 `app.controller.ts` 为控制器。- 注册 `app.service.ts` 为提供者。- 被 `main.ts` 引导。           |
| `app.service.ts`    | 定义包含业务逻辑的服务类。服务类中的方法可以被控制器调用，用于处理请求。 | \- 被 `app.controller.ts` 通过依赖注入使用。- 被 `app.module.ts` 注册为提供者。                         |
| `main.ts`           | 应用的入口点。初始化 NestJS 应用，创建应用实例并启动服务器。             | \- 引导 `app.module.ts` 作为根模块。                                                                    |

1.  **`main.ts`** 文件是应用的入口点，用于引导 `app.module.ts` 模块。它初始化 NestJS 应用，创建应用实例并启动服务器。
    
2.  **`app.module.ts`** 文件是应用的根模块，用于组织和注册其他模块、控制器和提供者。它注册 `app.controller.ts` 为控制器，并注册 `app.service.ts` 为提供者。
    
3.  **`app.controller.ts`** 文件定义了控制器，负责处理传入的 HTTP 请求并返回响应。控制器包含路由和端点，通过构造函数注入 `app.service.ts` 中的服务来调用业务逻辑方法。
    
4.  **`app.service.ts`** 文件定义了服务类，包含具体的业务逻辑。服务类的方法可以被控制器调用，用于处理请求。服务被 `app.controller.ts` 通过依赖注入使用，并被 `app.module.ts` 注册为提供者。
  
*   **`main.ts`**：
    
    *   **作用**：引导应用，初始化并启动服务器。
    *   **关系**：引导 `AppModule` 作为根模块。
    
    ~~~ts
    import { NestFactory } from '@nestjs/core';
    import { AppModule } from './app.module';
    
    async function bootstrap() {
      const app = await NestFactory.create(AppModule);
      await app.listen(3000);
    }
    bootstrap();
    
    ~~~
    
*   **`app.module.ts`**：
    
    *   **作用**：定义应用的根模块，组织控制器和提供者。
    *   **关系**：导入并注册 `AppController` 和 `AppService`。
    
    ~~~ts
    import { Module } from '@nestjs/common';
    import { AppController } from './app.controller';
    import { AppService } from './app.service';
    
    @Module({
      imports: [],
      controllers: [AppController],
      providers: [AppService],
    })
    export class AppModule {}
    
    ~~~
    
*   **`app.controller.ts`**：
    
    *   **作用**：处理 HTTP 请求，定义路由和端点。
    *   **关系**：通过构造函数注入 `AppService`。
    
    ~~~ts
    import { Controller, Get } from '@nestjs/common';
    import { AppService } from './app.service';
    
    @Controller('hello')
    export class AppController {
      constructor(private readonly appService: AppService) {}
    
      @Get()
      getHello(): string {
        return this.appService.getHello();
      }
    }
    
    ~~~
    
*   **`app.service.ts`**：
    
    *   **作用**：定义业务逻辑，提供给控制器使用。
    *   **关系**：被 `AppController` 通过依赖注入使用。
    
    ~~~ts
    import { Injectable } from '@nestjs/common';
    
    @Injectable()
    export class AppService {
      getHello(): string {
        return 'Hello World!';
      }
    }
    ~~~




		https://docs.nestjs.cn/10/firststeps


		https://www.bilibili.com/video/BV1NW421c7kz/?p=2&spm_id_from=pageDriver&vd_source=1e4d2f8cd0a4f142adfbc4bf47b6c113


		https://juejin.cn/post/7078847428455530526#heading-3

		https://3rcd.com/wiki/nestjs-practise/chapter1


		https://www.bilibili.com/video/BV1yt421w7vW?p=2&vd_source=1e4d2f8cd0a4f142adfbc4bf47b6c113