import{_ as s,o as n,c as a,V as o}from"./chunks/framework.96db2af4.js";const l="/learning-notes-blog/images/mongoDB_启动.png",e="/learning-notes-blog/images/mogodb_shell.png",p="/learning-notes-blog/images/mogodb_安装1.png",r="/learning-notes-blog/images/mongodb_安装2.png",t="/learning-notes-blog/images/mogodb_启动和停止.png",v=JSON.parse('{"title":"","description":"mongoDB 数据库 安装","frontmatter":{"description":"mongoDB 数据库 安装","tags":["数据库","mongoDB"]},"headers":[],"relativePath":"E.数据库/A.mongoDB/2.mongoDB安装.md","filePath":"E.数据库/A.mongoDB/2.mongoDB安装.md","lastUpdated":1686039772000}'),i={name:"E.数据库/A.mongoDB/2.mongoDB安装.md"},c=o(`<p>关于 MongoDB 的版本号, MongoDB 版本形式为 X.Y.Z，例如 4.4.2, 如果 Y 是奇数（例如 4.3），则为开发版，建议开发测试使用, 如果 Y 是偶数（例如 4.4），则为稳定版，建议生产环境使用</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><p>官网的安装教程 <a href="https://docs.mongodb.com/manual/installation/" target="_blank" rel="noreferrer">https://docs.mongodb.com/manual/installation/</a></p><ol><li><a href="https://docs.mongodb.com/manual/administration/install-on-linux/" target="_blank" rel="noreferrer">在 Linux 中安装 MongoDB</a></li></ol><ul><li>方式一：使用 Linux 发行版中的包管理器安装，例如 CentOS Linux 中的 yum、Ubuntu 中的 apt</li><li>方式二：下载安装包手动安装</li></ul><ol start="2"><li><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/" target="_blank" rel="noreferrer">在 macOS 中安装 MongoDB</a></li></ol><ul><li>方式一：使用 Homebrew 包管理器安装管理 MongoDB 服务</li><li>方式二：下载安装包手动安装</li></ul><ol start="3"><li><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/" target="_blank" rel="noreferrer">在 Windows 中安装 MongoDB</a></li></ol><ul><li>方式一：使用 .msi 安装程序快速安装</li><li>方式二：下载安装包手动安装</li></ul><h2 id="windows-手动安装" tabindex="-1">Windows 手动安装 <a class="header-anchor" href="#windows-手动安装" aria-label="Permalink to &quot;Windows 手动安装&quot;">​</a></h2><ol><li>下载 MongoDB 安装包</li></ol><ul><li><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noreferrer">https://www.mongodb.com/try/download/community</a></li></ul><ol start="2"><li><p>解压压缩包，将解压出来的资源文件放到一个稳定的目录中</p></li><li><p>关于 MongoDB 软件包目录文件</p></li></ol><ul><li><p>mongod.exe 服务端，用来启动数据库服务的</p></li><li><p>mongo.exe 客户端，用来连接数据库服务操作数据库(在6.0后版本mongo 底部软件包中没有这个程序需要自己下载 <a href="https://www.mongodb.com/try/download/shell" target="_blank" rel="noreferrer">https://www.mongodb.com/try/download/shell</a>)</p></li><li><p>mongos.exe: 是 MongoDB 的一个组件，作为查询路由器，将客户端请求定向到分片集群中适当的分片。</p></li></ul><ol start="4"><li><p>将 MongoDB 安装包中的 bin 目录配置到环境 PATH 变量，配置 PATH 环境变量的目的是为了能够在命令行中的任何位置都能够访问到 bin 目录中的可执行程序。</p></li><li><p>确认是否配置成功 （如配置到了全局 path 环境直接运行），创建 C:\\data\\db 目录，mongodb 会将数据默认保存在这个文件夹,如果单独执行 mongod，它会默认使用执行 mongod 命令所处磁盘根目录/data/db 作为数据存储 可以使用下面命令修改</p></li></ol><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">mongod</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--version</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 查看版本</span></span>
<span class="line"><span style="color:#61AFEF;">mongod</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 运行</span></span>
<span class="line"><span style="color:#61AFEF;">mongod</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--dbpath=</span><span style="color:#98C379;">&quot;数据存储目录&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 修改目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>创建客户端连接 如果运行 mongo 失败先确保 第三条中提到的 MongoDB 软件包目录文件 是否有 mongo.exe 如果没有按照说明下载</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">mongo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>是自己安装的客户端 启动方式指令变成了</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">mongosh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">为什么使用 mongo 或者 mongosh</p><p>如图通过 mongod 启动后的效果, 启动后可以 mongoDB 启动的服务地址 <a href="http://127.0.0.1:27017" target="_blank" rel="noreferrer">http://127.0.0.1:27017</a>，单纯使用浏览器去访问会提示 <strong>It looks like you are trying to access MongoDB over HTTP on the native driver port.</strong> 因为启动的服务并非 http 服务而是 mongoDB 服务</p><p>如果想对接到 mongoDB 服务就需要使用mongoDB 提供的客户端例如 mongo.exe 在6.0后没有 我们需要手动安装，安装后执行命令也变成了mongosh</p></div><details class="details custom-block"><summary>如果没有配置到环境 PATH 变量</summary><p>以 mongodb 中 bin 目录作为工作目录，启动命令行,运行命令 mongod</p><p><img src="`+l+'" alt=""></p><p>看到 waiting for connections 则表明服务 已经启动成功</p><p>然后可以使用 mongo 或者mongosh 命令连接本机的 mongodb 服务，这里使用的是 mongosh</p><p><img src="'+e+`" alt=""></p></details><h2 id="linux-安装" tabindex="-1">Linux 安装 <a class="header-anchor" href="#linux-安装" aria-label="Permalink to &quot;Linux 安装&quot;">​</a></h2><p>Linux 有很多发行版，安装方法都类似，这里主要演示如何将 MongoDB 社区版安装到 Red Hat 系列发行版中</p><p>配置 yum 程序包管理系统</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#abb2bf;">[mongodb-org-4.4]</span></span>
<span class="line"><span style="color:#abb2bf;">name=MongoDB Repository</span></span>
<span class="line"><span style="color:#abb2bf;">baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.4/x86_64/</span></span>
<span class="line"><span style="color:#abb2bf;">gpgcheck=1</span></span>
<span class="line"><span style="color:#abb2bf;">enabled=1</span></span>
<span class="line"><span style="color:#abb2bf;">gpgkey=https://www.mongodb.org/static/pgp/server-4.4.asc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>安装 MongoDB要安装最新的稳定版MongoDB，请发出以下命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">yum</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">install</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-y</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-org</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>或者，要安装特定版本的 MongoDB，请分别指定每个组件包，并将版本号附加到包名中，如以下示例所示：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">yum</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">install</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-y</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-org-4.4.1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-org-server-4.4.1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-org-shell-4.4.1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-org-mongos-4.4.1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-org-tools-4.4.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>您可以指定任何可用的 MongoDB 版本。但是，当有新版本可用时，yum 会升级软件包。为防止意外升级，请固定版本。要固定软件包，请在 <code>/etc/yum.conf</code> 文件中添加以下 <code>exclude</code> 指令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#E06C75;">exclude</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">mongodb-org,mongodb-org-server,mongodb-org-shell,mongodb-org-mongos,mongodb-org-tools</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>此外还有一点需要说明的是通过 yum 包管理器安装的 MongoDB 会自动创建 MongoDB 服务运行所需的数据目录：</p><ul><li>/var/lib/mongo 数据存储目录</li><li>/var/log/mongodb 日志存储目录</li></ul><h3 id="启动服务" tabindex="-1">启动服务 <a class="header-anchor" href="#启动服务" aria-label="Permalink to &quot;启动服务&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">start</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果启动mongod时收到与以下类似的错误：Failed to start mongod.service: Unit mongod.service not found.</p><p>则执行下面的命令解决</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">daemon-reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后再次运行上面的启动命令。</p><h3 id="查看启动状态" tabindex="-1">查看启动状态 <a class="header-anchor" href="#查看启动状态" aria-label="Permalink to &quot;查看启动状态&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">status</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>您可以选择通过发出以下命令来确保 MongoDB 在系统重新引导后启动：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">enable</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="停止服务" tabindex="-1">停止服务 <a class="header-anchor" href="#停止服务" aria-label="Permalink to &quot;停止服务&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">stop</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="重启服务" tabindex="-1">重启服务 <a class="header-anchor" href="#重启服务" aria-label="Permalink to &quot;重启服务&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">restart</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="卸载-mongodb" tabindex="-1">卸载 MongoDB <a class="header-anchor" href="#卸载-mongodb" aria-label="Permalink to &quot;卸载 MongoDB&quot;">​</a></h3><p>要从系统中完全删除 MongoDB，必须删除 MongoDB 程序本身，配置文件以及包含数据和日志的目录。</p><p>注意：此过程将完全删除 MongoDB，其配置和所有数据库。此过程是不可逆的，因此请确保在继续操作之前备份所有配置和数据。</p><ol><li>停止 MongoDB 服务</li></ol><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">systemctl</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">stop</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>删除 MongoDB 程序包</li></ol><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">yum</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">erase</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">$(</span><span style="color:#61AFEF;">rpm</span><span style="color:#98C379;"> </span><span style="color:#D19A66;">-qa</span><span style="color:#98C379;"> </span><span style="color:#ABB2BF;">|</span><span style="color:#98C379;"> </span><span style="color:#61AFEF;">grep</span><span style="color:#98C379;"> mongodb-org)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>删除数据库和日志文件</li></ol><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-r</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/var/log/mongodb</span></span>
<span class="line"><span style="color:#61AFEF;">sudo</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">rm</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-r</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/var/lib/mongo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="macos-中安装" tabindex="-1">macOS 中安装 <a class="header-anchor" href="#macos-中安装" aria-label="Permalink to &quot;macOS 中安装&quot;">​</a></h2><p>在 macOS 上安装 MongoDB 有两种方式：使用 Homebrew 安装 MongoDB，下载 .tgz 压缩包手动安装</p><p>建议尽可能使用 Homebrew 包管理器安装 MongoDB。使用程序包管理器会自动安装所有必需的依赖项，并简化以后的升级和维护任务。</p><h3 id="安装-homebrew" tabindex="-1">安装 homebrew <a class="header-anchor" href="#安装-homebrew" aria-label="Permalink to &quot;安装 homebrew&quot;">​</a></h3><p>安装 Command Line Tools for Xcode，如果你电脑上安装了 XCode 软件开发工具（在App Store中安装Xcode），Command Line Tools for Xcode已经给你安装好了。</p><p>也可以直接安装 Command Line Tools for Xcode。在终端输入以下代码完成安装：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">xcode-select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装 Homebrew</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">/bin/bash</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-c</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;$(</span><span style="color:#61AFEF;">curl</span><span style="color:#98C379;"> </span><span style="color:#D19A66;">-fsSL</span><span style="color:#98C379;"> https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="安装mongodb" tabindex="-1">安装mongoDB <a class="header-anchor" href="#安装mongodb" aria-label="Permalink to &quot;安装mongoDB&quot;">​</a></h3><p>添加 MongoDB 安装源到 Homebrew</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">brew</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">tap</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb/brew</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用 homebrew 安装 MongoDB</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">brew</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">install</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-community@4.4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>该安装除安装必要的二进制文件之外，还会创建运行 MongoDB 服务所需的文件目录：</p><ul><li>MongoDB 配置文件：/usr/local/etc/mongod.conf</li><li>日志文件存储目录：/usr/local/var/log/mongodb</li><li>数据文件存储目录：/usr/local/var/mongodb</li></ul><h3 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h3><p>启动 MongoDB 并运行在后台。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">brew</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">services</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">start</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-community@4.4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>或者手动启动 MongoDB，运行在前台。也可以加入 --fork 参数运行在后台。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">mongod</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--config</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">/usr/local/etc/mongod.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="查看-mongodb-服务运行状态" tabindex="-1">查看 MongoDB 服务运行状态 <a class="header-anchor" href="#查看-mongodb-服务运行状态" aria-label="Permalink to &quot;查看 MongoDB 服务运行状态&quot;">​</a></h3><p>要验证MongoDB是否正在运行，请在正在运行的进程中搜索 mongod：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">ps</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">aux</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">grep</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-v</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">grep</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">grep</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>还可以通过查看日志文件以查看 mongod 进程的当前状态：/usr/local/var/log/mongodb/mongo.log。</p><h3 id="停止-mongodb" tabindex="-1">停止 MongoDB <a class="header-anchor" href="#停止-mongodb" aria-label="Permalink to &quot;停止 MongoDB&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">brew</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">services</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">stop</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-community@4.4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="卸载-mongodb-1" tabindex="-1">卸载 MongoDB <a class="header-anchor" href="#卸载-mongodb-1" aria-label="Permalink to &quot;卸载 MongoDB&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">brew</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">uninstall</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">mongodb-community@4.4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="windows-安装包" tabindex="-1">windows 安装包 <a class="header-anchor" href="#windows-安装包" aria-label="Permalink to &quot;windows 安装包&quot;">​</a></h2><ol><li>下载安装包</li><li>运行安装程序 ， Complete：完整安装 / Custom：自定义安装， 选择 Complete 完整安装。</li></ol><p><img src="`+p+'" alt=""></p><p>从 MongoDB 4.0 开始，可以在安装过程中将 MongoDB 设置为 Windows 服务，也可以仅安装二进制文件。</p><ul><li>Service Name：服务名称</li><li>Data Directory：数据存储位置</li><li>Log Directory：日期存储位置</li></ul><p><img src="'+r+'" alt=""></p><p>如果过程中出现 MongoDB Compass 是 MongoDB 官网提供的一个集创建数据库、管理集合和文档、运行临时查询、评估和优化查询、性能图表、构建地理查询等功能为一体的MongoDB可视化管理工具。</p><h3 id="windows-服务的启动和停止" tabindex="-1">Windows 服务的启动和停止 <a class="header-anchor" href="#windows-服务的启动和停止" aria-label="Permalink to &quot;Windows 服务的启动和停止&quot;">​</a></h3><p>如果你将 MongoDB 安装为 Windows 的服务了，则 MongoDB 已经自动启动了，并且默认会开启启动。</p><ol><li><p>打开 Windows 服务控制台打开运行，输入 services.msc 打开。</p></li><li><p>启动、停止、暂停、恢复、重新启动 <img src="'+t+'" alt=""></p></li></ol><p>没有安装服务按照最开始window 指令那种形式运行即可</p>',97),d=[c];function m(b,u,g,B,y,h){return n(),a("div",null,d)}const C=s(i,[["render",m]]);export{v as __pageData,C as default};
