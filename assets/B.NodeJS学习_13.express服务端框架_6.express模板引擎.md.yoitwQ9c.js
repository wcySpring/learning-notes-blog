import{_ as s,c as n,o as a,a8 as l}from"./chunks/framework.6k5lawSO.js";const m=JSON.parse('{"title":"","description":"了解模板引擎使用和搭建","frontmatter":{"description":"了解模板引擎使用和搭建","tags":["服务端","express"]},"headers":[],"relativePath":"B.NodeJS学习/13.express服务端框架/6.express模板引擎.md","filePath":"B.NodeJS学习/13.express服务端框架/6.express模板引擎.md","lastUpdated":1686039772000}'),p={name:"B.NodeJS学习/13.express服务端框架/6.express模板引擎.md"},e=l(`<p>前端模板引擎是一种将数据和模板结合起来生成 HTML 页面的工具。它可以将数据和模板分离，使得前端开发人员可以专注于页面的设计和交互，而不必担心数据的处理和渲染。</p><p>前端模板引擎可以分为两类：客户端模板引擎和服务器端模板引擎。</p><ol><li>客户端模板引擎 客户端模板引擎是在浏览器端运行的模板引擎，它使用 JavaScript 代码来生成 HTML 页面。客户端模板引擎通常使用 Mustache、Handlebars、Underscore 等模板引擎库。</li></ol><p>优点：</p><ul><li><p>可以在客户端动态生成 HTML 页面，减轻服务器的负担。</p></li><li><p>可以在浏览器端缓存模板，提高页面加载速度。</p></li><li><p>可以在客户端实现动态数据绑定，使得页面可以实时更新。 缺点：</p></li><li><p>由于是在浏览器端运行，所以对于大规模数据的处理可能会影响页面性能。</p></li><li><p>由于需要将模板和数据都传输到客户端，所以可能会增加网络传输的负担。</p></li></ul><ol start="2"><li>服务器端模板引擎 服务器端模板引擎是在服务器端运行的模板引擎，它使用服务器端的编程语言来生成 HTML 页面。服务器端模板引擎通常使用 PHP、Java、Python 等编程语言的模板引擎库。</li></ol><p>优点：</p><ul><li><p>可以在服务器端动态生成 HTML 页面，减轻客户端的负担。</p></li><li><p>可以在服务器端缓存模板，提高页面加载速度。</p></li><li><p>可以在服务器端实现动态数据绑定，使得页面可以实时更新。 缺点：</p></li><li><p>由于是在服务器端运行，所以对于大规模数据的处理可能会影响服务器性能。</p></li><li><p>由于需要将已经生成的 HTML 页面传输到客户端，所以可能会增加网络传输的负担。</p></li></ul><h2 id="前端常见使用的" tabindex="-1">前端常见使用的 <a class="header-anchor" href="#前端常见使用的" aria-label="Permalink to &quot;前端常见使用的&quot;">​</a></h2><table tabindex="0"><thead><tr><th>模板引擎</th><th>描述</th></tr></thead><tbody><tr><td>Pug</td><td>受 Haml 启发的模板引擎，曾用名 Jade。</td></tr><tr><td>Haml.js</td><td>Haml 模板引擎的实现。</td></tr><tr><td>EJS</td><td>允许在 HTML 模板中嵌入 JavaScript 代码的模板引擎。</td></tr><tr><td>hbs</td><td>Handlebars.js 的适配器，是 Mustache.js 模板引擎的扩展。</td></tr><tr><td>Squirrelly</td><td>快速的模板引擎，支持部分模板、帮助程序、自定义标签、过滤器和缓存。不敏感于空格，适用于任何语言。</td></tr><tr><td>Eta</td><td>轻量级的嵌入式 JS 模板引擎，支持自定义分隔符、异步、空格控制、部分模板、缓存和插件。</td></tr><tr><td>combyne.js</td><td>一个希望按照您的期望工作的模板引擎。</td></tr><tr><td>Nunjucks</td><td>受 jinja/twig 启发的模板引擎。</td></tr><tr><td>marko</td><td>快速且轻量级的基于 HTML 的模板引擎，将模板编译为 CommonJS 模块，支持流式传输、异步渲染和自定义标签。</td></tr><tr><td>whiskers</td><td>小巧快速的模板引擎，使用 Mustache 语法。</td></tr><tr><td>Blade</td><td>受 Jade 和 Haml 启发的 HTML 模板编译器。</td></tr><tr><td>Haml-Coffee</td><td>允许编写内联 CoffeeScript 的 Haml 模板。</td></tr><tr><td>express-hbs</td><td>适用于 Express 3 的 Handlebars，支持布局、部分模板和块。</td></tr><tr><td>express-handlebars</td><td>适用于 Express 的 Handlebars 视图引擎，易于使用。</td></tr><tr><td>express-views-dom</td><td>适用于 Express 的 DOM 视图引擎。</td></tr><tr><td>rivets-server</td><td>允许在服务器上呈现 Rivets.js 模板的模板引擎。</td></tr><tr><td>LiquidJS</td><td>简单、表达性强且安全的模板引擎。</td></tr><tr><td>express-tl</td><td>适用于 Express 的模板文字引擎实现。</td></tr><tr><td>Twing</td><td>适用于 Node.js 的一流 Twig 引擎。</td></tr><tr><td>Sprightly</td><td>极其轻量级的 JS 模板引擎（只有 45 行代码），包含您想在模板引擎中看到的所有基本功能。</td></tr><tr><td>html-express-js</td><td>一个小型的模板引擎，用于使用本机 JavaScript 提供静态或动态 HTML 页面。</td></tr></tbody></table><h2 id="在express-中使用模板" tabindex="-1">在express 中使用模板 <a class="header-anchor" href="#在express-中使用模板" aria-label="Permalink to &quot;在express 中使用模板&quot;">​</a></h2><p>这里以ejs 为例使用模板，在使用模板前需要按照模板的包 <code>npm i ejs --save</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> express</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> require</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;express&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> path</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> require</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;path&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> app</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> express</span><span style="color:#383A42;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">// 设置模板引擎</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">set</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;view engine&#39;</span><span style="color:#383A42;">, </span><span style="color:#50A14F;">&#39;ejs&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">//  设置模板文件存放位置   模板文件: 具有模板语法内容的文件</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">set</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;views&#39;</span><span style="color:#383A42;">, path.</span><span style="color:#4078F2;">resolve</span><span style="color:#383A42;">(__dirname, </span><span style="color:#50A14F;">&#39;./views&#39;</span><span style="color:#383A42;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">get</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;/index&#39;</span><span style="color:#383A42;">, (req, res) </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">	// 渲染模板 index view/index.ejs</span></span>
<span class="line"><span style="color:#383A42;">	res.</span><span style="color:#4078F2;">render</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;index&#39;</span><span style="color:#383A42;">, { </span><span style="color:#E45649;">name</span><span style="color:#0184BC;">:</span><span style="color:#50A14F;"> &#39;zs&#39;</span><span style="color:#383A42;">, </span><span style="color:#E45649;">age</span><span style="color:#0184BC;">:</span><span style="color:#986801;"> 20</span><span style="color:#383A42;"> })</span></span>
<span class="line"><span style="color:#383A42;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">//监听端口, 启动服务</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">listen</span><span style="color:#383A42;">(</span><span style="color:#986801;">3000</span><span style="color:#383A42;">, () </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#383A42;">	console.</span><span style="color:#4078F2;">log</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;服务已经启动, 端口 3000 正在监听中....&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#383A42;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>views/index.ejs</li></ul><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#383A42;">&lt;!</span><span style="color:#E45649;">DOCTYPE</span><span style="color:#986801;"> html</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">&lt;</span><span style="color:#E45649;">html</span><span style="color:#986801;"> lang</span><span style="color:#383A42;">=</span><span style="color:#50A14F;">&quot;en&quot;</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">	&lt;</span><span style="color:#E45649;">head</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">		&lt;</span><span style="color:#E45649;">meta</span><span style="color:#986801;"> charset</span><span style="color:#383A42;">=</span><span style="color:#50A14F;">&quot;UTF-8&quot;</span><span style="color:#383A42;"> /&gt;</span></span>
<span class="line"><span style="color:#383A42;">		&lt;</span><span style="color:#E45649;">meta</span><span style="color:#986801;"> http-equiv</span><span style="color:#383A42;">=</span><span style="color:#50A14F;">&quot;X-UA-Compatible&quot;</span><span style="color:#986801;"> content</span><span style="color:#383A42;">=</span><span style="color:#50A14F;">&quot;IE=edge&quot;</span><span style="color:#383A42;"> /&gt;</span></span>
<span class="line"><span style="color:#383A42;">		&lt;</span><span style="color:#E45649;">meta</span><span style="color:#986801;"> name</span><span style="color:#383A42;">=</span><span style="color:#50A14F;">&quot;viewport&quot;</span><span style="color:#986801;"> content</span><span style="color:#383A42;">=</span><span style="color:#50A14F;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color:#383A42;"> /&gt;</span></span>
<span class="line"><span style="color:#383A42;">		&lt;</span><span style="color:#E45649;">title</span><span style="color:#383A42;">&gt;Document&lt;/</span><span style="color:#E45649;">title</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">	&lt;/</span><span style="color:#E45649;">head</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">	&lt;</span><span style="color:#E45649;">body</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">		&lt;</span><span style="color:#E45649;">p</span><span style="color:#383A42;">&gt;</span><span style="color:white;">&lt;</span><span style="color:#383A42;">%=name%&gt;&lt;/</span><span style="color:#E45649;">p</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">		&lt;</span><span style="color:#E45649;">p</span><span style="color:#383A42;">&gt;</span><span style="color:white;">&lt;</span><span style="color:#383A42;">%=age%&gt;&lt;/</span><span style="color:#E45649;">p</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">	&lt;/</span><span style="color:#E45649;">body</span><span style="color:#383A42;">&gt;</span></span>
<span class="line"><span style="color:#383A42;">&lt;/</span><span style="color:#E45649;">html</span><span style="color:#383A42;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="非包含的第三方模板" tabindex="-1">非包含的第三方模板 <a class="header-anchor" href="#非包含的第三方模板" aria-label="Permalink to &quot;非包含的第三方模板&quot;">​</a></h2><p>处理 express 可以兼容的一些模板，如果使用第三方模板配置如下</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#4078F2;">npm</span><span style="color:#50A14F;"> install</span><span style="color:#986801;"> --save</span><span style="color:#50A14F;"> art-template</span></span>
<span class="line"><span style="color:#4078F2;">npm</span><span style="color:#50A14F;"> install</span><span style="color:#986801;"> --save</span><span style="color:#50A14F;"> express-art-template</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> express</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> require</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;express&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> path</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> require</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;path&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> app</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> express</span><span style="color:#383A42;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">// 用于在express中使用art-template模板引擎</span></span>
<span class="line"><span style="color:#A626A4;">const</span><span style="color:#986801;"> artTemplate</span><span style="color:#0184BC;"> =</span><span style="color:#4078F2;"> require</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;express-art-template&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">// 设置模板引擎art-template 解析模板文件后缀名为html</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">engine</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;html&#39;</span><span style="color:#383A42;">, artTemplate)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">//  设置模板文件存放位置   模板文件: 具有模板语法内容的文件</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">set</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;views&#39;</span><span style="color:#383A42;">, path.</span><span style="color:#4078F2;">resolve</span><span style="color:#383A42;">(__dirname, </span><span style="color:#50A14F;">&#39;./views&#39;</span><span style="color:#383A42;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">get</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;/index&#39;</span><span style="color:#383A42;">, (req, res) </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">	// 渲染模板 index view/index.ejs</span></span>
<span class="line"><span style="color:#383A42;">	res.</span><span style="color:#4078F2;">render</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;index.html&#39;</span><span style="color:#383A42;">, {</span></span>
<span class="line"><span style="color:#E45649;">		title</span><span style="color:#0184BC;">:</span><span style="color:#50A14F;"> &#39;Art Template Demo&#39;</span><span style="color:#383A42;">,</span></span>
<span class="line"><span style="color:#E45649;">		message</span><span style="color:#0184BC;">:</span><span style="color:#50A14F;"> &#39;Hello, Art Template!&#39;</span><span style="color:#383A42;">,</span></span>
<span class="line"><span style="color:#383A42;">	})</span></span>
<span class="line"><span style="color:#383A42;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">//监听端口, 启动服务</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">listen</span><span style="color:#383A42;">(</span><span style="color:#986801;">3000</span><span style="color:#383A42;">, () </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#383A42;">	console.</span><span style="color:#4078F2;">log</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;服务已经启动, 端口 3000 正在监听中....&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"><span style="color:#383A42;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ul><li>省略后缀写法</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-light vp-code" tabindex="0"><code><span class="line"><span style="color:#0184BC;">...</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">// 省略模板文件后缀名 	res.render(&#39;index&#39;</span></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">set</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;view engine&#39;</span><span style="color:#383A42;">, </span><span style="color:#50A14F;">&#39;html&#39;</span><span style="color:#383A42;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;">app.</span><span style="color:#4078F2;">get</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;/index&#39;</span><span style="color:#383A42;">, (req, res) </span><span style="color:#A626A4;">=&gt;</span><span style="color:#383A42;"> {</span></span>
<span class="line"><span style="color:#A0A1A7;font-style:italic;">	// 渲染模板 index view/index.ejs</span></span>
<span class="line"><span style="color:#383A42;">	res.</span><span style="color:#4078F2;">render</span><span style="color:#383A42;">(</span><span style="color:#50A14F;">&#39;index&#39;</span><span style="color:#383A42;">, {</span></span>
<span class="line"><span style="color:#E45649;">		title</span><span style="color:#0184BC;">:</span><span style="color:#50A14F;"> &#39;Art Template Demo&#39;</span><span style="color:#383A42;">,</span></span>
<span class="line"><span style="color:#E45649;">		message</span><span style="color:#0184BC;">:</span><span style="color:#50A14F;"> &#39;Hello, Art Template!&#39;</span><span style="color:#383A42;">,</span></span>
<span class="line"><span style="color:#383A42;">	})</span></span>
<span class="line"><span style="color:#383A42;">})</span></span>
<span class="line"><span style="color:#0184BC;">...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,21),t=[e];function o(r,c,i,y,A,d){return a(),n("div",null,t)}const u=s(p,[["render",o]]);export{m as __pageData,u as default};
